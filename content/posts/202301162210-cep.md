---
title: ğŸ“CEPä½œã‚‹
date: 2023-01-16
tags:
  - program
  - script
---

- up: [âŒ¨ï¸Script]({{<ref "posts/202301071000-script.md">}})

[http://localhost:8080/](http://localhost:8080/)

CEPä½œã‚‹ãï½ï½ï½ â†“å…¬å¼ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«    
ğŸ“[Getting Started with CEP Extensions](https://github.com/Adobe-CEP/Getting-Started-guides)  

# ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆ
![](https://raw.githubusercontent.com/Adobe-CEP/Getting-Started-guides/master/.meta/readme-assets/extension-structure.png)  

manifest.xml ä»¥å¤–ã¯ã‚ã‚Šã¨è‡ªç”±ã«ã—ã¦ã„ã„ã‚‰ã—ã„ã€‚CSInterface.js ãŒ jsx ã¨ js ã®æ©‹æ¸¡ã—å½¹ã€‚  

ã“ã‚Œã‚‰ã‚’ C:\Program Files (x86)\Common Files\Adobe\CEP\extensions ã«ä½œã‚‹ã€‚

# jså´ã‹ã‚‰ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿æ›¸ãå‡ºã—
ã“ã‚“ãªæ„Ÿã˜ã§ã€‚ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã¯çµ¶å¯¾ãƒ‘ã‚¹ã˜ã‚ƒãªã„ã¨ã ã‚ã€‚  
```javascript
// èª­ã¿è¾¼ã¿
const readFile = (path) => {
  let data
  let res = window.cep.fs.readFile(path, 'UTF-8')
  if (res.err == 0) {
      data = JSON.parse(res.data)
  } else {
      data = res.err
  }
  return data
}
// æ›¸ãå‡ºã—
const writeFile = (path, data) => {
  window.cep.fs.writeFile(path, JSON.stringify(data))
}
```
  
CEPã€ä½•ãŒã§ãã‚‹ã®ã‹ã¨æ€ãˆã°UIã‚’HTML5ã§ç¶ºéº—ã«ä½œã‚Œã‚‹ã ã‘ã§å‡¦ç†è‡ªä½“ã¯æ™®é€šã®jsxã‚¹ã‚¯ãƒªãƒ—ãƒˆã§å‡ºæ¥ã‚‹ã“ã¨ã—ã‹å‡ºæ¥ãªã„ã®ã‚ã‚Šã¨ã‚¬ãƒƒã‚«ãƒªâ€¦â€¦ã€‚

# Reactã‚„ã‚‹ã
ã‚„ã‚‹ [ğŸ“React]({{<ref "posts/202302012251-react.md">}})  

ğŸ“[Reactã®ç’°å¢ƒæ§‹ç¯‰ã‚’AdobeCEPä¸Šã§è¡Œã†](https://kawano-shuji.com/justdiary/2020/01/20/react%E3%81%AE%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89%E3%82%92adobecep%E4%B8%8A%E3%81%A7%E8%A1%8C%E3%81%86/)  
ğŸ“[CEPå‘ã‘ã®webpackæ§‹ç¯‰-Sass babel-](https://kawano-shuji.com/justdiary/2020/09/30/cep%E5%90%91%E3%81%91%E3%81%AEwebpack%E6%A7%8B%E7%AF%89-sass-babel/)  

# evalScriptã®returnã»ã—ã„ã‚“ã ã‘ã©â€¦â€¦
éã€€åŒã€€æœŸã€€å‡¦ã€€ç†ã€€ï¼ˆåœ°ç„ï¼‰  
ğŸ“[Using ES6 promises to write async â€œevalScript()â€ calls in Photoshop](https://blog.developer.adobe.com/using-es6-promises-to-write-async-evalscript-calls-in-photoshop-2ce40f93bd8b)

# Macè³¼å…¥
åœ°ç„ã‚’è¦‹ã‚‹  
[ğŸ“Macã§ç½²åã—ã¦ãªã„é–‹ç™ºä¸­ã®CEPãƒ‘ãƒãƒ«ãŒèµ·å‹•ã—ãªã„]({{<ref "posts/202302152001-mac-not-open-cep.md">}})  

# userDataãƒ‘ã‚¹å–å¾—
è¨­å®šã¨ã‹ã‚’ç½®ãAescriptsãƒ•ã‚©ãƒ«ãƒ€ãŒã‚ã‚‹userDataãƒ•ã‚©ãƒ«ãƒ€ã¾ã§ã®ãƒ•ãƒ«ãƒ‘ã‚¹ã‚’å–å¾—ã€‚ã“ã‚Œã‚’jså´ã‹ã‚‰evalScriptã§å‘¼ã³å‡ºã—ã¦ä½¿ã†ã€‚
```javascript
function getUserDataPath() {
  var dataPath = Folder.decode(Folder.userData) + '/Aescripts/your-extension-name';
  var f = new Folder(dataPath);
  if (!f.exists) f.create();
  return Folder.decode(f.fsName)
}
```

# Macã§keydown keyupã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºç«ã—ãªã„
ğŸ“[Photoshop Extensionã®é–‹ç™º19 ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚¤ãƒ™ãƒ³ãƒˆ
](https://kawano-shuji.com/justdiary/2019/05/04/photoshop-extension%E3%81%AE%E9%96%8B%E7%99%BA19-%E3%82%AD%E3%83%BC%E3%83%9C%E3%83%BC%E3%83%89%E3%82%A4%E3%83%99%E3%83%B3%E3%83%88/)  
Macã ã¨documentã«keydownã¯ç„¡ç†ãã†ã€‚è«¦ã‚ã¦mousemoveã¨event.ctrlKeyã§å¯¾å¿œã€‚